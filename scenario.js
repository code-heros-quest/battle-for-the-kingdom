'use strict';

let loot = require('./loot.js');
let char = require('./characters.js');

class Choice {
  constructor(num, choiceName, dialogue, lootObject, next) {
    this.num = num;
    this.choiceName = choiceName;
    this.dialogue = dialogue;
    this.lootObject = lootObject;
    this.next = next;
  }
}

class Scenario {
  constructor(name, dialogue, choiceQuestion, choices) {
    this.name = name,
    this.dialogue = dialogue;
    this.choiceQuestion = choiceQuestion
    this.choices = choices;
  }
}

// Scenarios in reverse order, choices first

// BOSS 5 : THE KING
const theKingChoices = {
  choice1: new Choice(1, 'name', 'dialogue', null, null)
}
const theKing = new Scenario('The King', `dialogue`, `choice question`, theKingChoices);

// NPC 6 : Mage-Smith
const mageSmithChoices = {
  choice1: new Choice(1, 'Try to hush him', `${char.hunter.name} tries to motion the dwarf to speak quietly, but this seems only to enrage him more. His volume begins to increase and ${char.assassin.name} does the only logical thing, blows sleeping powder in his face. This doesn’t force him into sleep, as dwarves are very resistant to these types of drugs but he does seem to become much more relaxed and his eyes have a slightly glazed quality. You all usher the little man into a side alley before the guards come to check out the noise. The dwarf seems unable to speak but ${char.wizard.name} talks to him in a coaxing voice and he begins to slowly tell his tale. “I was the kings personal smith. I make very special weapons, because you see not only am I a smith, I am also a mage. My people have long studied the art of working enchantments into metal as we strike it and the king sent to my people asking for the greatest Mage-Smith we could offer. My work is renowned and I was honored to be chosen by my tribe to come to the palace and craft a blade for the king. Only when I arrived did I begin to see the reality of this request. The king did not want to let me do my work. He began demanding certain qualities and powers of the sword. I tried to tell him that it doesn’t work that way. The metal has a spirit of its own and that determines what attributes the metal will hold when it is formed. The king fired me and threw me out of the palace. I have never been so insulted! The man is an infant and I wouldn’t want one of my masterpieces in his hands anyway!” It seems risky to trust a stranger but this dwarf seems convincingly opposed to the king, so you tell him of your quest. He says “The king is very powerful and he surrounds himself with people who encourage his ego and increase his strength. You will have a hard time defeating him but I will gift you the blade he did not want.” The dwarf pulls a wrapped sword off his back that you didn’t notice until now. “This sword holds many attributes. One of which is the power of Invisibility. It makes itself invisible, and when you pull it the bearer and any they touch become invisible as well. The king wishes only to be seen. It’s second attribute is the power of Grace, when holding this blade the fighter will become more agile and fluid. The king did not think this power masculine enough for his sword. It has some other smaller attributes but those are the main two.” You all look upon the blade with awe, never have you seen such a powerful weapon. ${char.wizard.name} says, “Thank you Sir Mage-Smith, you are truly a master at your art and powerful sorcerer. A blade of this majesty will surely turn the tides for us” The dwarf simply nods, hands ${char.assassin.name} the blade and turns to walk away. You stare after him surprised that he has become so calm when he suddenly turns and growls “Tell him Athgar sent you when you cut his throat”. That seems more like the dwarf you have come to know`, [loot.mightyEnchantedSword], null),
  choice2: new Choice(2, 'Rise to his level', `The only way to break into the dwarfs temper tantrum will be an equally explosive response. ${char.warrior.name} lets loose a mighty roar, leaving everyone silent, and your group rushes the little man into a side alley before the guards come to check out the noise. The dwarf seems unable to speak but ${char.wizard.name} talks to him in a coaxing voice and he begins to slowly tell his tale. “I was the kings personal smith. I make very special weapons, because you see not only am I a smith, I am also a mage. My people have long studied the art of working enchantments into metal as we strike it and the king sent to my people asking for the greatest Mage-Smith we could offer. My work is renowned and I was honored to be chosen by my tribe to come to the palace and craft a blade for the king. Only when I arrived did I begin to see the reality of this request. The king did not want to let me do my work. He began demanding certain qualities and powers of the sword. I tried to tell him that it doesn’t work that way. The metal has a spirit of its own and that determines what attributes the metal will hold when it is formed. The king fired me and threw me out of the palace. I have never been so insulted! The man is an infant and I wouldn’t want one of my masterpieces in his hands anyway!” It seems risky to trust a stranger but this dwarf seems convincingly opposed to the king, so you tell him of your quest. He says “The king is very powerful and he surrounds himself with people who encourage his ego and increase his strength. You will have a hard time defeating him but I will gift you the blade he did not want.” The dwarf pulls a wrapped sword off his back that you didn’t notice until now. “This sword holds many attributes. One of which is the power of Invisibility. It makes itself invisible, and when you pull it the bearer and any they touch become invisible as well. The king wishes only to be seen. It’s second attribute is the power of Grace, when holding this blade the fighter will become more agile and fluid. The king did not think this power masculine enough for his sword. It has some other smaller attributes but those are the main two.” You all look upon the blade with awe, never have you seen such a powerful weapon. ${char.wizard.name} says, “Thank you Sir Mage-Smith, you are truly a master at your art and powerful sorcerer. A blade of this majesty will surely turn the tides for us” The dwarf simply nods, hands ${char.assassin.name} the blade and turns to walk away. You stare after him surprised that he has become so calm when he suddenly turns and growls “Tell him Athgar sent you when you cut his throat”. That seems more like the dwarf you have come to know`, [loot.mightyEnchantedSword], null),
  choice3: new Choice(3, 'Just walk away', `You itch your ear, code for “time to hit the road” and your comrades all give a subtle nod. You break off, some going left, and the others going right, leaving the angry dwarf shouting in the street. Just in time too! A storm of guards goes thundering past you towards the noise. He might have helped you after all. Now all the guards between you and the palace will have their hands full. As the guards haul the man past you a package you hadn’t noticed before falls from the mans back. ${char.assassin.name} picks it up and unwraps the long, thin, item to discover a beautiful sword. When ${char.assassin.name} grasps the hilt they become invisible! This will be a powerful weapon to have against the king.`, [loot.mysteriousSword], null)
}
const mageSmith = new Scenario('The Mage-Smith', `Early the next morning your team packs up and stashes everything you don’t need for your mission in Halbert’s barn. The cow moo’s in surprise at having unknown guests, but continues chewing her hay before long. If you survive you will be able to come back and get your packs. If you don’t return Halbert has been instructed to turn them in to the city guard as suspicious “lost and found” so he will not be accused of aiding you. You plan to split up about half way to the palace and approach from different directions. You have almost reached the split point when you see a brawny dwarf trudging down the road towards you. He is cursing up a storm and you wonder if maybe you should duck out of the way to avoid him, but no sooner does that thought cross your mind than the little man hails your group. “You there! If you are going to visit that ungrateful worm that calls himself the king give him my kindest regards” this sentiment is followed by a particularly loud bout of flatulence. The crude man is wearing a leather apron and carrying a hammer almost as large as he is. He begins gesturing wildly with the hammer and cursing the king at the top of his lungs. `, `While it is a comical sight you are trying to avoid drawing attention to yourselves and you need to calm him down. Do you:`, mageSmithChoices);

// horned animal
const hornedAnimal = new Scenario('The Horned Animal', `You approach an older building with a weathered sign swinging over the door. The wooden square features a white unicorn that looks a little more like a yellow donkey with a wizards hat than the magical creature the tavern was named for, but you figure you must be in the right place. Your group exchanges a familiar look that means “be prepared in case this is a trap” and you walk in. A woman behind the bar points you towards a table while loading a serving boy’s tray with pitchers of beer and piling bowls of stew and loaves of crusty bread on a second tray held by a young girl. You realize these must be her children because they all share the same bright red hair. The tavern is busy with workers coming in for an evening meal. Most of the patrons are younger, and look like skilled laborers… probably without families at home to share the meal. Wealthy enough to afford a meal at a tavern, but not well off enough to eat at one of the places frequented by merchants or guards. The small red haired girl arrives at your table and hands you bowls and bread in exchange for 5 coper coins a piece. She tells you that for two more her brother will fill your mugs and then scampers off. The soup is good despite being thin and the bread is hot and delicious. You begin to wonder if your contact will recognize you when another red head, this time a bearded giant, approaches your table. He warily addresses your group “You look like you’ve traveled a long way. Seems like there is a storm is on the horizon…” ${char.hunter.name} responds “Better a storm than a draught” and the man's face instantly relaxes. Your contact, Halbert, turns out to be the owner of the Horned Animal. He and his wife took it over when her father died and have been doing their best to keep the business going. He tells you that the tavern used to be busy all day long but now with the people growing more poor the only time they have clients is for dinner. His wife’s father was ill and couldn’t afford to get the care he needed despite having worked hard his whole life. Halbert says “We can’t keep letting the king get rich on the backs of the villagers while we starve or die from treatable maladies. Thank you for hearing our need, I want my children to have a chance at a life without suffering”. He leaves you a map of the palace complex including guard stations and servants entrances and wishes you luck. A few minutes later the boy comes to your table with wrapped packets for each of you “me ma made some sandwiches for yer travels” he squeaks and then turns and quickly disappears back behind the bar.`, null, null)

// city before the palace
const cityChoices = {
  choice1: new Choice(1, 'Circus Troupe', `${char.assassin.name} says “I’ll be the contortionist!”, ${char.warrior.name} “I guess that makes me the strongman”, ${char.wizard.name} “I have tons of great illusions!”, and ${char.hunter.name} “who wants to volunteer to let me throw daggers at them??” You all laugh, but it is half from amusement and half due to heightened nerves. You know you are getting close to confronting the king and everything will have to go right for you to succeed. You help each other to create shabby costumes from random clothing items each person has in their bags. “Cirque du Folie” enters the city gates with a nod from the guard and instructions to register with the performers guild before you can begin doing shows. You had been instructed to meet your contact at a tavern called the “Horned Animal” where he will greet you with a code phrase. Your costumes seem to be working because not a single guard that passes your group even looks at you twice.`, null, hornedAnimal),
  choice2: new Choice(2, 'Minstrals', `${char.hunter.name} says “I knew this lute was going to come in handy! You all said I was stupid for carrying it around all this time! ${char.warrior.name} you’re good at hitting things, go find something you can use as a drum.” Looks like ${char.assassin.name} and ${char.wizard.name} will be singing for their supper. You disguise your weapons to look like wrapped musical instruments and make your way to the city gates. The gate guard lets you through with instructions to register with the performers guild before you can begin doing shows. You had been instructed to meet your contact at a tavern called the “Horned Animal” where he will greet you with a code phrase. Your guise of musicians seem to be working because not a single guard that passes your group even looks at you twice.`, null, hornedAnimal),
  choice3: new Choice(3, 'Brotherhood of Monks', `${char.wizard.name} says “I have some pigment with me that will work as dye for our cloaks. I can make them all a dark brown so we will pass for a band of traveling monks.” ${char.assassin.name} goes out to collect grasses from the surrounding area to stuff under the cloaks and ${char.hunter.name} begins braiding rope to use as belts. When the cloaks have dried enough in the sun to wear you help each other tie your cloaks around you like robes and stuff them with grasses to disguise the shape of your weapons. Now you look like a group of pudgy monks, you hope this will be convincing to the gate guards. ${char.wizard.name} does the talking as you meet the guard. The rest of you have taken a “vow of silence” and keep your heads bowed as you are motioned through. The burly guard tells your group where to find a clean inn that welcomes visiting clergy and (wizard) thanks him. You had been instructed to meet your contact at a tavern called the “Horned Animal” where he will greet you with a code phrase. Your “holy robes” seem to be working because not a single guard that passes your group even looks at you twice.`, null, hornedAnimal)
}

const cityAroundThePalace = new Scenario('CITY SURROUNDING THE CASTLE', 'Your band arrives to the city surrounding the palace with plans to meet the contact you were given when you first crossed through the kingdom\'s walls. However things never go exactly as planned… The kings guards are swarming the city and a group of mighty fighters like yourselves can’t just walk through the city unnoticed. You will have to go in disguise and hope that your contact will be able to recognize you.', 'What kind of disguise do you think you should use?', cityChoices)

// NPC 5 : Rebellion
const rebellionChoices = {
  lowRoll: new Choice(1, 'Poor Roll', `Unfortunatly luck is not with you today. The old woman looks out with sorrow etched on her face and ${char.hunter.name} assures her that a working bow is more than we even hoped for.`, [loot.brittleHeirloomBow], cityAroundThePalace),
  medRoll: new Choice(2, 'Fair Roll', `The old woman turns her face up with a smile. "It has worked" she says and hands ${char.hunter.name} the bow. "This is more than we could have ever hoped for, thank you" ${char.wizard.name} says taking her hands, "thank you"`, [loot.strongHeirloomBow], cityAroundThePalace),
  highRoll: new Choice(3, 'Good Roll', `The old woman turns her face up with a smile. "It has worked" she says and hands ${char.hunter.name} the bow. "This is more than we could have ever hoped for, thank you" ${char.wizard.name} says taking her hands, "thank you"`, [loot.strongHeirloomBow], cityAroundThePalace)
}
const rebellion = new Scenario('Rebellion', `Weary from your battle with the Hydra your band of warriors trudges out of the swampy forrest. ${char.hunter.name} holds up what used to be a very nice bow and says "my bow has seen better days", ${char.assassin.name} replies "my body has seen better days!" As you approach the city, you see the castle from a distance. It's dark aura sends chills down your spine dispite being exhausted. A group of ragged villagers comes toward you looking only slightly less bedraggled than your team. You can tell even from a distance that these are not the kings men. They look too tired and hungry. You meet in the road and they verify that you are the heros they have heard tales of. They offer to take you to their camp site for the night to rest and share their meal. ${char.wizard.name} starts a conversation with their party leader, "We have just come from the forest where we had a run in with the fiercest Hydra..." The leader looks shocked, "And you survived??". When you get back to the camp word quickly spreads that you defeated the hydra and the whole camp comes forward with spare bandages, healing potions, and salves. You don't want to take more than you need because these people don't have much. You stay the night with the rebels and enjoy the feeling of being safe in a group and having a full belly. In the morning you ready yourselves to leave. A wrinkled old woman with cloudy eyes approches your group with a bow in her hands. She walks up to ${char.hunter.name} and says "My mother was half-elf and when I was a girl she taught me to enchant wood to make it strong. I noticed your bow has been broken. I am old and I do not have the powers I once had but I would like to try one last time to enchant this bow for you. If it works you have a very fine bow, if it doesn't at least you have a bow that isn't broken.`, `roll for a chance to add your luck to the enchantress' spell`, rebellionChoices);


// BOSS 4 : Hydra

const theHydraChoices = {
  lowRoll: new Choice(1, 'Poor Roll', 'dialogue', null, rebellion),
  medRoll: new Choice(2, 'Fair Roll', 'dialogue', null, rebellion),
  highRoll: new Choice(3, 'Good Roll', 'dialogue', null, rebellion)
}

const theHydra = new Scenario('TheHydra', `Following the directions the witch has given, your surroundings slowly turn to a thick swampy land. The smell of the air is reminiscent of a freshly ended battle. The smell of death is too familiar to warriors like yourselves. Knowing now that this might have been a trap, you are too far along in your journey to turn back. As you move onward, the swamp ground becomes thicker and thicker, making it harder for you to move quickly. Finally, after climbing a 15ft mound of thick slippery mud, your group looks out into the distance. ${char.wizard.name} uses a farsight spell and can see a straight path to the village, visable only by the plumes of chimney smoke peaking out atop the dead trees that stretch a few more miles ahead of you. Now realizing that your journey is nearing its end, you climb down with enthusiasm.
Suddenly, the ground starts moving beneath you. What seemed to be another 30ft mound starts to grow in size. It moves upward growing and growing, then splits into multiple heads. This is a Hydra! One of the most feared creatures that ever lived. The stories say they defeat all who face them. No one knows the true age of a hydra, but the legends stem from ancient scrolls, and they are rare indeed. The beast is so vicious that the Hydras 9 heads fight each other for the chance to be one of the first to taste your flesh.`, 'Roll the dice to determine the fate of your battle', theHydraChoices);

// NPC 4 : Witch
const theWitchChoices = {
  choice1: new Choice(1, 'Wrong Answer', 'Hahaha, of course you four mortals could not answer a simple question. Keep moving west until you get to get to the swamp. After you pass the swamp land you will make it out to the village.', null, theHydra),
  choice2: new Choice(2, 'a Skull', 'You clever mortal... You are the first to ever correctly answer my riddle. Keep moving west until you get to the swamp. After you pass the swamp land you will make it out to the village.', [loot.strengthSpell], theHydra),
  choice3: new Choice(3, 'a Skull', 'You clever mortals... You are the first to ever correctly answer my riddle. Keep moving west until you get to the swamp. After you pass the swamp land you will make it out to the village.', [loot.strengthSpell, loot.gnarledStaff], theHydra)
}

const theWitch = new Scenario('The Witch', `After a few days journey your band of warriors see the "Dead forest". The legends of this place say that even in the brightest of days, no light enters into it. Being the only route you can take to remain hidden from alerting the king to your presence, you make your way into the forest. Once you enter, the appearance of day turns to night. The sound of nature comes to a still silence. The wind that once passed through the air is now motionless. As you continue moving forward, a fog appears from underneath the your teams feet. The fog keeps getting thicker and higher up the further you move along. After a few hours of traveling and only hearing the sound of your own breathing and the footsteps you make as you walk, a voice comes out of the air and surrounds you. A single voice, yet it echos with many other voices within itself. ${char.wizard.name} knows that this voice contains the echoes of the poor souls that have been absorbed by a witch. You hear, "Who enters this forest that is my own? A Wizard and a Human Assassin, an Ogre and Elf. I have watched you enter into my realm and I have heard you walk on my ground. You will not be permitted to go any further." Your team explains their need to pass. That your journey is to kill the king. ${char.wizard.name} entices the witch further... "Being that the king has closed his walls to wandering and curious outsiders, you have been unable to feed off of any new souls. I felt the hunger as soon as we entered the forest. The stench of your hunger grew the deeper we got." The witch, knowing that she is unable to defeat a powerful wizard, acquiesces to your request. She has not had any guests for countless years, so for her amusement, she gives you a riddle. If answered correctly, she will cast a spell that will aid your team with defeating the king. As well as directions on how to get there. If you all answer correctly she will give ${char.wizard.name} her hideous and powerful staff`, 'riddle', theWitchChoices);

// NPC 3 : Merchant
const theMerchantChoices = {
  choice1: new Choice(1, 'Wrong Answer', `"I am sorry, you did not answer correctly. I wish I could help but I have no choice" the Merchant says and moves away`, null, theWitch),
  choice2: new Choice(2, 'Footsteps', `"You are correct! The king has no law about me giving gifts so I would like to give you a gift I hope will help you on your quest."`, [loot.poisonousBerries, loot.sheild, loot.hoodAndJesses, loot.magicalAmulet], theWitch)
}
const theMerchant = new Scenario('The Merchant', `After a long and grueling battle with the troll, your band of warriors moves forward on your journey to dethrone the king. As you move through the long and rocky road, you come upon a lonely merchant. A rickety old wagon with the sounds of glass and metal clanking is being pushed along. The merchant is draped in a long-torn robe, consisting of mostly patches and holes. As you approach the merchant, ${char.hunter.name} asks for directions. Immediately the merchant introduces himself and tells the you that he knows each of you as well. “Once I was one of the most respected dealers throughout the kingdom, but due to the king’s laws I am no longer able to receive new items from outside the kingdom’s walls. I have become nothing more than a poor peasant along with the rest. For my safety I dare not sell to you. However, if you answer a riddle that I have seen no other answer, I will reward you with a token.`, 'riddle question', theMerchantChoices);

// BOSS 3 : Troll
const theTrollChoices = {
  lowRoll: new Choice(1, `While ${char.warrior.name} is massive in their own right, they are dwarfed compared to the behemoth of the Troll standing before your team. ${char.warrior.name} makes the first move and lunges at the massive Troll. Reaching back, swinging across his body, the Troll swipes ${char.warrior.name} sending them sliding. Startled by the ease at which the Troll manhandled ${char.warrior.name}, ${char.assassin.name} and ${char.hunter.name} quickly spring into action, each taking a side to attack. While big the Troll may be, he does not move well, ${char.assassin.name} and ${char.hunter.name} being small and shifty each take a side running around to the legs of the Troll. With a feeling like a mosquito bite, the Troll looks down and sees his attackers, he quickly reaches back plucking each one in a fist-full; then tossing them aside next to ${char.warrior.name} who is still dazed from his hit. Quickly, knowing they stand no chance with the now angry giant, ${char.wizard.name} retreats behind a tree, hoping to use sense and whit, and small spell, to talk some reason into the Troll so he will let your group pass with peace. Reluctantly the Troll decides to let your group by. He warns you that what you will encounter ahead may not be as kind as he is. Also, he has a falcon that is no use to him, he gifts the falcon to ${char.hunter.name} as an extra pair of eyes in the sky for their journey ahead.`, loot.falcon, theMerchant),
  medRoll: new Choice(2, `While ${char.warrior.name} is massive in their own right, they are dwarfed compared to the behemoth of the Troll standing before your team. ${char.warrior.name} makes the first move and lunges at the massive Troll. Reaching back, swinging across his body, the Troll swipes ${char.warrior.name} sending them sliding. Startled by the ease at which the Troll manhandled ${char.warrior.name}, ${char.assassin.name} and ${char.hunter.name} quickly spring into action, each taking a side to attack. Not moving swiftly, the Troll stumbles over himself in an attempt to locate the dual attack. This gives enough time for ${char.warrior.name} to recover and lock arms with the Troll. At a stalemate in strength, ${char.wizard.name} reluctantly casts a spell towards the two, knocking them both to the ground, into a temporary state of paralysis. After a while, they awake from their state. Not conceding defeat but willing to let the group pass, the Troll gathers himself. He warns of the dangers ahead in the passage toward the King’s palace. As a peace offering the Troll offers ${char.hunter.name} a trusty falcon to give you eyes in the sky for your journey ahead.`, loot.falcon, theMerchant),
  highRoll: new Choice(3, `While ${char.warrior.name} is massive in their own right, they are dwarfed compared to the behemoth of the Troll standing before your team. ${char.warrior.name} makes the first move and lunges at the massive Troll. Reaching back, swinging across his body, the Troll swipes ${char.warrior.name} sending them sliding. Startled by the ease at which the Troll manhandled ${char.warrior.name}, ${char.assassin.name} and ${char.hunter.name} quickly spring into action, each taking a side to attack. With a lack of athleticism, the Troll struggles to gather himself, this gives an opportunity for the wizard to sit back and use magic. Belting out in a strong wise voice, ${char.wizard.name} declares a spell of “Incarcerous!”. In a moments notice the Troll is wiggling, bound up on the floor in a silver rope. Conceding quickly, the Troll begs for his release. In exchange for his freedom, he gifts a falcon to ${char.hunter.name} as a pair of eyes in the sky. He warns your group that what they will encounter ahead may not be as kind as him.`, loot.falcon, theMerchant)
}

const theTroll = new Scenario(`The Troll`, `Deep into your journey towards the king’s castle, your warrior band, already feeling the effects of your travels, comes upon a bridge. As you approach the bridge, a massive Troll presents himself. Standing tall, in your path of crossing, he proclaims in his heavy troll like rasp, “Though shall not pass!”. Startled but always ready for battle, your group gathers and prepares for a battle with the giant standing before you.`, 'Roll to determine the fate of your battle', theTrollChoices);

// BOSS 2 : Goblin
const theGoblinChoices = {
  lowRoll: new Choice(1, 'Poor Roll', `As you charge towards the group of monsters, the Goblins strike effortlessly with their dogslicers dripping a foul green poison. One sends ${char.warrior.name} flying back to the village. The villagers are shocked to see one of their heroes now injured. It’s up to the rest of you to finish the battle. ${char.assassin.name} prepares to attack as a pair of Goblins come from behind and rain blow after blow down leaving one less member of your team standing. ${char.wizard.name} and ${char.hunter.name} realize that with the two close range fighters out of the battle they will not be able to defeat the goblins. ${char.wizard.name} creates a 20 foot-radius sphere of thick fog that blinds the Goblins. ${char.hunter.name} picks up ${char.assassin.name} and returns back to the village under cover of the fog. The Woodsman says "It’s unfortunate that you were not able to defeat the Goblins but do not worry, we’ve prepared for this. We appricate that you tried but you were clearly out numbered. Hopefully you will defeat the King and evil creatures like this will no longer be able to flourish in our land`, loot.strongBandages, theTroll),
  medRoll: new Choice(2, 'Fair Roll', `As ${char.warrior.name} impulsively charges towards the group of Goblins, one strikes at him with a dogslicer dripping a foul green poison which he narrowly evades. The Assasin tries to slash one of them but fails, ${char.assassin.name}'s knives are useless as the Goblin is able to stop them before they touch his skin. As soon as that becomes apparent, your group knews they will not able to win this battle with simple combat. Fortunately, ${char.wizard.name} has an idea. The Wizard will cast an Illusion spell that makes it appear as though pots full of gold have come down from heaven. When the Goblins see the gold, their eyes shimmer with greed for the treasure. ${char.wizard.name} silently mouths, "Go!" to ${char.assassin.name} who moves through the mesmerized goblins, slicing them one by one. The Warrior, though seriously injured, gets up and with all remaining strength, helps the Assasin. Soon, only one Goblin is left. This Goblin gives the impression of being the leader of the group. Together, ${char.warrior.name} and ${char.assassin.name}'s weapons pierce its chest.
  The villagers cheer as the last Goblin falls. Though your group has been injured, you are relieved that from now on, no one will be taking the Village harvest and everyone will begin to live in peace. The village is so grateful for your help that they happily offer you healing supplies`, loot.strongBandages, theTroll),
  highRoll: new Choice(3, 'Good Roll', `Since your team is familiar with Goblins, and know their weakness, you’ve devised a quick plan for taking on the harvest raiders. Your band of warriors is confident that it will work because, after all greed makes anyone blind and foolish, and makes them easy prey for death. ${char.wizard.name} casts an Illusion spell that makes it appear as though pots full of gold have come down from heaven. When the Goblins see the gold, their eyes shimmer with greed for the treasure. Now that they’re distracted by the spell, ${char.assassin.name} and ${char.warrior.name} immediately run towards them and slit their bodies open one by one. Soon only one Goblin is left. It gives the impression of being the leader of the group. Together, ${char.warrior.name} and ${char.assassin.name}'s weapons pierce its chest.
  The villagers cheer as the last Goblin falls. Though your group has been injured, you are relieved that from now on, no one will be taking the Village harvest and everyone will begin to live in peace. The village is so grateful for your help that they happily offer you healing supplies`, loot.strongBandages, theTroll)
}
const theGoblin = new Scenario('The Goblin',`As you step out from the borders of the village to the path heading east, your team senses something is not right. All of a sudden, the ground shakes beneath your feet and from a distance you see a group of hideous creatures, ludicrously grotesque both in face and form, drawing closer towards you. The Woodsman yells "The Goblin is back and he brought friends! Run back to your homes, children and Mothers. Do not be anxious! We have prepared enough supplies from the last harvest to offer to them."
Your team looks at one another with determination in your eyes. You are ready to fight, prepared to end this madness once and for all.`, 'Roll to determine the fate of your battle', theGoblinChoices);

// poisonous bite
const thePoinsonousBite = new Scenario('The Poisonous Bite', `Your team starts their travel on the horse paved road, which stretches for miles. After an hour into your travel, the shrubs that lay on each side of the road reach the height of your shoulders. The grass starts to narrow just a bit more and you now must form a single line to walk through. Suddenly, everyone seems edgy and you become cautious. The sound of thousands of insects begins rattling through the air. You all start to run to get out of the tall bushed walls that stretch for another mile or two. As you are sprinting to make it to the clearing, large insects start leaping out of the bushes towards the you. Near the clearing, one of the insects lunges out and latches itself onto ${char.warrior.name}'s neck! Another lunges and attaches itself onto ${char.warrior.name}'s ankle. Finally, after making it to the clearing, ${char.warrior.name} rips off the insects, along with some flesh. The effect on ${char.warrior.name} veins that surround the wound make it evident the insects are poisonous.
${char.wizard.name} says "It should be ok. Ogre blood is thick and slow enough that the poison will not survive. We will need to stop and rest for the night in this clearing though.`, null, null);

// the village
const theVillageChoices = {
  choice1: new Choice(1, 'Yes, these villagers need your help!', `Talon is thrilled you will help "Wonderful, the families that still remain will be happy to hear that there is a chance they will be safe. The path is along the fields heading east. You will come upon a cliff that falls 50ft down into a cavern. This is where the Goblin lives. The beast has a heightened sense of smell, so you are able to lure him out with the scent of a fresh wound. Any amount of blood will do for this creature. Please return to the village to let us know of your missions success."`, null, null),
  choice2: new Choice(2, 'No, you have a more important mission ahead and can not afford to waste any time', `Talon looks regretful but says "I understand, I should not have asked you to stray off of your quest. The path to continue your journey is along the paved roads heading north. It is still before noon, so the path has a bit of an infestation problem. It is usually safer to go after the sun is at its highest peak. Which is when the creatures hide from the heat. I must confess, that of course is the least of your problems... There is a bridge that lays at the midpoint between here and your destination. The only people to cross are the Kings guards. The few who have set out to the bridge have ever returned. Farewell friends and good luck."`, null, null)
}
const theVillage = new Scenario('The Village', `You arrive to the village and are introduced by guide to some members of the rebellion. One approaches and says "Hello friends, my name is Talon. I am one of the members of the rebellion that had sent word to request for your help... My people have been taxed, starved and prayed upon for too long by this tyrant we call a King. If we do not make a stand now, I fear we would no longer have the strength to seize another chance." After a few minutes of discussing the details of the rebellions past failed plans, your group of warriors meets others in the village and you have an evening meal with the Woodsman and his wife. In the morning you get information from the group of village rebels about a contact in the city surrounding the palace. You are told your contact will be expecting you in a tavern called the "Horned Animal". ${char.assassin.name} and ${char.warrior.name} snicker at the name, while ${char.hunter.name} takes note of the code phrase that will authenticate your identities with your contact. Talon says "Before you leave... I am weary of asking more from you, as you are already taking on an impossible task, but my desperation has left me no choice but to ask. This village has been plagued by a Goblin, a foul beast that has been taking the village children. It started off only hunting during the night, but the attacks have become bolder and more frequent. The single goblin has become a pack and is now hunting during broad day light. We had gathered a few warriors, a total of 12 of our most capable men and attempted to apprehend these creatures but, only 2 of us made it back alive. Myself included. We have no other way of defeating these monsters. We have been keeping them at bay by leaving out our harvest so they won't take our children.`, `Will you risk your lives to help us with this other matter."`, theVillageChoices)

// NPC 1
const theWoodsmanChoices = {
  lowRoll: new Choice(1, 'Poor Roll', `unfortunately `, null, null),
  medRoll: new Choice(2, 'Fair Roll', 'Luck seems to be with you today. The wife of the woodsman is grateful for your help and gives you a healing salve she makes from local plants.', loot.herbalSalve, null),
  highRoll: new Choice(3, 'Good Roll', 'Luck seems to be with you today. The wife of the woodsman is grateful for your help and gives you a healing salve she makes from local plants.', loot.herbalSalve, null)
}
const theWoodsman = new Scenario('Find Another Way In', `Your team decides you aren’t prepared for a fight with a full blown Orc Lord today. You are short on supplies and lost several weapons in your last big battle which will need to be replaced. You head west into the woods before the near-sighted Orc sees your group and make your way towards a less guarded area. (Add to story that woodsman has healing salve to reward them with for helping him) Up ahead a man is chopping wood. He is not wearing a royal insignia, and looks thin and tired. Your group decides to approach him and ask if he knows a way into the kingdom that might be less conspicuous. You send ${char.wizard.name} to talk to him since they are the least visibly threatening of the group but quite capable of wielding a healing staff as a weapon if necessary. The exhausted axe wielding man approaches your group with ${char.wizard.name} at his side. As he gets closer you seen he has dark circles around his eyes and sunken in cheeks. He tells your group “I live inside the kingdom walls and sneak out every day to collect wood for my family to trade with the rest of my village. No one has much food, but they are will to trade some of what the have for a warm fire in the hearth. If you are brave enough to face down our evil king I am brave enough to sneak you through the wall”  You all collect firewood as the man finishes his chopping and follow him back to the wall. He shows you a hole hidden by a bush and you are all able to get through, even ${char.warrior.name} with enough wiggle to make a barmaid blush. You follow him back to his village and thank him for the safe passage”`, 'Since you were kind enough to carry wood back to the village the woodsman has much more than normal. Maybe if you are lucky he will reward you for your help. Roll for luck:', theWoodsmanChoices)


// NPC 2
const theOldFriend = new Scenario('The Old Friend', `You make your way into the kingdom, surprised that their aren’t guards stationed more closely together. The area immediately surrounding the gate entrance is a sort of mini hub with a small inn and stable. Surprisingly no one has come out to see what the commotion was, but perhaps they are used to hearing the guard engage in battle. Eventually a change of guards will occur and someone will notice a dead Orc captain laying across the entrance to the kingdom. For now you decide it’s best to get as far into the countryside as possible where you won’t come into contact with the perimeter patrols. As you are walking past the inn you hear a shout, “hey! You there! Ogre!”. A robust man of a somewhat small stature comes towards you and calls out to ${char.warrior.name} by name. “Well I haven’t seen you since the battle of Meridorn! How you doin old pal?! Still bashing in brains I see” the loud man says with a quick glance at  ${char.warrior.name}’s new Mace. ${char.hunter.name} interrupts and proclaims loudly “I am sorry sir but you must be thinking of someone else! We don’t know you or have any idea what you are referring too!” He makes large eyes and a shushing gesture at the man. The man looks bewildered and starts back up, clearly a ways in to his cups “Sure you know me! Why remember the time that we-“ Just at that moment ${char.wizard.name} puts a silence spell on the man, and not a second too soon. A small group of soldiers is visible walking the inner perimeter of the wall towards you. The man puts his hands to his mouth with panic in his eyes, clearly trying to speak, though no words are coming out. Ogre wraps his big arm around the mans shoulder and you nonchalantly guide the man down the street away from the guards. ${char.wizard.name} says to the man “I am going to take the spell off but you need to be very quiet. We need to get out of here before those guards realize there is anything wrong. Is there somewhere you can take us?” The now quiet man seems to catch on and looks at them shrewdly before nodding. {char.wizard.name} removes the spell without the slightest gesture and the man, having gotten his voice back, whispers “this way” and leads you down an alley. “We are going to have to run. It is quite a while before the edge of the woods where we won’t be in the sight line of the perimeter guard.” He seems to have sobered up quite a bit with the shock of being unable to speak for a while. ${char.assassin.name} says “lead the way”, and you all take off at a run.`, null, theVillage);

//BOSS 1 : Orc Lord
const theOrcLordChoices = {
  lowRoll: new Choice(1, 'Poor Roll', `${char.warrior.name} runs in and slams directly into the Orc Lord trying to keep him busy while ${char.assassin.name} creeps up behind him preparing to cut in to the backs of his knees when the moment is right. The Orc seems to be smarter than he looks because he is on to your tactic and backs up against the wall where ${char.assassin.name} will not be able to get behind him. With the sun in their eyes ${char.wizard.name} and ${char.hunter.name} are not able to successfully put up an attack or defense. Things begin to go sideways and ${char.warrior.name} calls for ${char.assassin.name} to fallback. ${char.assassin.name} throws down vanishing powder and with the explosion your team makes a run for it. You have suffered injuries and will have to find another way into the kingdom.`, null, null),
  medRoll: new Choice(2, 'Fair Roll', `${char.warrior.name} runs in and slams directly into the Orc Lord trying to keep him busy while ${char.assassin.name} creeps up behind him preparing to cut in to the backs of his knees when the moment is right. The Orc seems to be smarter than he looks because he is on to your tactic and backs up against the wall where ${char.assassin.name} will not be able to get behind him.${char.wizard.name} puts up a protective shield around ${char.warrior.name} and ${char.assassin.name} trying to prevent the Orc's blows from doing so much damage but it doesn’t seem to be helping much. ${char.hunter.name} is having a hard time aiming with the chaos of the battle and the sun facing towards your group, but with a wish for luck sends a blinding arrow into the Orc's right eye. The monster begins furiously bellowing and stumbles forward while ${char.assassin.name} takes the opportunity to hamstring the foe, and ${char.warrior.name} finishes him off with a few powerful blows to the nose. Your team prevails but not without damages. You enter the kingdom over the body of your conquered enemy.`, loot.orcLordMace, null),
  highRoll: new Choice(3, 'Good Roll', `${char.warrior.name} runs in and slams directly into the Orc Lord trying to keep him busy while ${char.assassin.name} creeps up behind him preparing to cut in to the backs of his knees when the moment is right. ${char.wizard.name} puts up a protective shield around ${char.warrior.name} and ${char.assassin.name} trying to prevent the Orc's blows from doing so much damage. ${char.hunter.name} carefully aims and when the moment is right sends a blinding arrow into the Orc's right eye. ${char.assassin.name} takes the opportunity to hamstring the foe, and ${char.warrior.name} finishes him off with a few powerful blows to the nose. Your team prevails with very little in the way of damage and you enter through the gates of the kingdom.`, loot.orcLordMace, null)
}
const theOrcLord = new Scenario('Battling the Orc Lord', 'Your team decides the best way through a wall is over the dead body of an Orc so you prepare for battle.', 'roll the dice', theOrcLordChoices)


// At the wall
const atTheWallChoices = {
  choice1: new Choice(1, 'Battle the Orc', 'Do you fight the orc, knowing that supplies are low and you don’t have any healing potions or bandages if someone gets hurt?', null, null),
  choice2: new Choice(2, 'Go Around', 'Do you try to find another way through the wall and avoid the Orc?', null, null)
}

const atTheWall = new Scenario('At the Wall', `Having received the villagers plea and decided to answer their cries, your motley band of mighty warriors has traveled for days and finally you see the walls of the kingdom before you. ${char.warrior.name} jokes “Only a small man would build such tall walls!” ${char.assassin.name} replies “definitely overcompensating for something…” As the hulking walls get closer you begin to see what appears to be an Orc Lord guarding a gate.`, `Your group stops to discuss your options…`, atTheWallChoices);


// intro
const intro = new Scenario('Introduction', 'In the beginning, the people welcomed a rich and powerful lord as their king, not knowing that the he would take over the land and bring famine and disease to the people. He taxed the poor and spared the rich. He built walls, really tall walls, around the kingdom to keep out the surrounding nations. Due to the king’s rule, villainess monsters have moved in and flourish in the kingdom. They prey on the poor villagers. Emboldened by the king’s tyranny, the monsters have come out of hiding to rain terror upon the land. A secret rebellion has formed amongst the kingdom’s villages. A messenger has been sent to sneak out and find your legendary band of warriors to plea for your aid, in overturning the evil kings reign.',null, null);




module.exports = {
  intro,
  atTheWall,
  theOrcLord,
  theOldFriend,
  theWoodsman,
  theVillage,
  thePoinsonousBite,
  theGoblin,
  theTroll,
  theMerchant,
  theWitch,
  theHydra,
  rebellion,
  cityAroundThePalace,
  hornedAnimal,
  mageSmith,
  theKing
}

